{"ast":null,"code":"var _jsxFileName = \"/Users/sophiadanielsen/Projects/image-upload-server/views/src/components/Upload.js\";\nimport React, { Component, useState } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport axios from \"axios\";\n\nconst Upload = () => {\n  const [show, setShow] = useState(false);\n  const [description, setDescription] = useState(\"\");\n  const [image, setImage] = useState(null);\n  const [error, setError] = useState(false);\n\n  const handleShow = () => setShow(true);\n\n  const handleClose = () => setShow(false);\n\n  const onSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      const formData = new FormData();\n      formData.append(\"picture\", image, image.name);\n      formData.append(\"desc\", description);\n      let res = await axios.post(\"/api/upload\", formData);\n      setError(false);\n      handleClose();\n    } catch (error) {\n      setError(true);\n      console.error(error);\n    }\n  };\n\n  const fileData = () => {\n    if (image) {\n      return /*#__PURE__*/React.createElement(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 17\n        }\n      }, \" \", /*#__PURE__*/React.createElement(\"em\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 21\n        }\n      }, \" \", image.name, \" \"), \" \");\n    }\n\n    return null;\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary m-2\",\n    onClick: handleShow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, \" \", \"Upload\"), /*#__PURE__*/React.createElement(Modal, {\n    show: show,\n    onHide: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  }, \"Upload Image\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"desc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 29\n    }\n  }, \"description\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => setDescription(e.target.value),\n    type: \"text\",\n    value: description,\n    className: \"form-control\",\n    required: true,\n    id: \"desc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custom-file\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    onChange: e => setImage(e.target.files[0]),\n    className: \"custom-file-input\",\n    id: \"image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"custom-file-label\",\n    htmlFor: \"image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 33\n    }\n  }, image ? fileDate() : \"Choose File\")), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 29\n    }\n  }, \"Submit\"), error ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 33\n    }\n  }, \" \", \"Some error occured uploading the file\", \" \") : null))), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"secondary\",\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }, \"Close\"))));\n};\n\nexport default Upload;","map":{"version":3,"sources":["/Users/sophiadanielsen/Projects/image-upload-server/views/src/components/Upload.js"],"names":["React","Component","useState","Modal","Button","axios","Upload","show","setShow","description","setDescription","image","setImage","error","setError","handleShow","handleClose","onSubmit","e","preventDefault","formData","FormData","append","name","res","post","console","fileData","target","value","files","fileDate"],"mappings":"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","sourcesContent":["import React, { Component, useState } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport axios from \"axios\";\n\nconst Upload = () => {\n    const [show, setShow] = useState(false);\n    const [description, setDescription] = useState(\"\");\n    const [image, setImage] = useState(null);\n    const [error, setError] = useState(false);\n\n    const handleShow = () => setShow(true);\n    const handleClose = () => setShow(false);\n\n    const onSubmit = async (e) => {\n        e.preventDefault();\n\n        try {\n            const formData = new FormData();\n\n            formData.append(\"picture\", image, image.name);\n            formData.append(\"desc\", description);\n\n            let res = await axios.post(\"/api/upload\", formData);\n            setError(false);\n            handleClose();\n        } catch (error) {\n            setError(true);\n            console.error(error);\n        }\n    };\n\n    const fileData = () => {\n        if (image) {\n            return (\n                <h5>\n                    {\" \"}\n                    <em> {image.name} </em>{\" \"}\n                </h5>\n            );\n        }\n        \n        return null;\n    }\n\n    return (\n        <>\n            <button className=\"btn btn-primary m-2\" onClick={handleShow}>\n                {\" \"}\n                Upload\n            </button>\n\n            <Modal show={show} onHide={handleClose}>\n                <Modal.Header closeButton>\n                    <Modal.Title>Upload Image</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <form onSubmit={onSubmit}>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"desc\">description</label>\n                            <input onChange={(e) => setDescription(e.target.value)} type=\"text\" value={description} className=\"form-control\" required id=\"desc\" />\n                        </div>\n\n                        <div className=\"form-group\">\n                            <div className=\"custom-file\">\n                                <input type=\"file\" onChange={(e) => setImage(e.target.files[0])} className=\"custom-file-input\" id=\"image\" />\n                                <label className=\"custom-file-label\" htmlFor=\"image\">\n                                    {image ? fileDate() : \"Choose File\"}\n                                </label>\n                            </div>\n\n                            <button type=\"submit\" className=\"btn btn-primary\">\n                                Submit\n                            </button>\n\n                            {error ? (\n                                <div className=\"text-danger\">\n                                    {\" \"}\n                                    Some error occured uploading the file{\" \"}\n                                </div>\n                            ) : null}\n                        </div>\n                    </form>\n                </Modal.Body>\n\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={handleClose}>\n                        Close\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n        </>\n    );\n};\n\nexport default Upload;"]},"metadata":{},"sourceType":"module"}